<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Take the model fit and forecast output, process them into savable objects, and save them to the output folders. 
The forecast metadata file is updated accordingly to track the saved output. 
add_observations_to_forecast_table appends a column of observations to a forecast's forecast tab. If a model interpolated a data set, it adds the true (non-interpolated) observations so that model predictions are all compared to the same data. 
select_forecasts determines the forecasts that match user specifications. Functionally, it is a wrapper on read_forecasts_metadata with filtering for specifications that provides a simple user interface to the large set of available forecasts via the metadata."><title>Process and Save Forecast Output to Files — process forecast output • portalcasting</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process and Save Forecast Output to Files — process forecast output"><meta property="og:description" content="Take the model fit and forecast output, process them into savable objects, and save them to the output folders. 
The forecast metadata file is updated accordingly to track the saved output. 
add_observations_to_forecast_table appends a column of observations to a forecast's forecast tab. If a model interpolated a data set, it adds the true (non-interpolated) observations so that model predictions are all compared to the same data. 
select_forecasts determines the forecasts that match user specifications. Functionally, it is a wrapper on read_forecasts_metadata with filtering for specifications that provides a simple user interface to the large set of available forecasts via the metadata."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">portalcasting</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.54.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/getting_started.html">Getting Started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/current_models.html">Current Models</a>
    <a class="dropdown-item" href="../articles/adding_model_and_data.html">Adding a Model and Data</a>
    <a class="dropdown-item" href="../articles/codebase.html">Codebase</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://github.com/weecology/portalcasting/releases/tag/v0.51.0">Version 0.51.0</a>
    <a class="external-link dropdown-item" href="https://github.com/weecology/portalcasting/releases/tag/v0.50.0">Version 0.50.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/weecology" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/weecology" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://portal.naturecast.org" aria-label="Naturecast">
    <span class="fa fa-chart-line"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Process and Save Forecast Output to Files</h1>
      <small class="dont-index">Source: <a href="https://github.com/weecology/portalcasting/blob/HEAD/R/process_casts.R" class="external-link"><code>R/process_casts.R</code></a></small>
      <div class="d-none name"><code>process-forecast-output.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Take the model fit and forecast output, process them into savable objects, and save them to the output folders. <br>
The forecast metadata file is updated accordingly to track the saved output. <br><code>add_observations_to_forecast_table</code> appends a column of observations to a forecast's forecast tab. If a model interpolated a data set, it adds the true (non-interpolated) observations so that model predictions are all compared to the same data. <br><code>select_forecasts</code> determines the forecasts that match user specifications. Functionally, it is a wrapper on <code>read_forecasts_metadata</code> with filtering for specifications that provides a simple user interface to the large set of available forecasts via the metadata.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_model_output</span><span class="op">(</span></span>
<span>  main <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  model_fit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">model_forecast</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">dataset</span>,</span>
<span>  <span class="va">species</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_forecast_table</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span>, forecast_id <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_forecasts_tables</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span>, forecasts_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_observations_to_forecast_table</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span>, forecast_table <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_forecast_metadata</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span>, forecast_id <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_model_fit</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span>, forecast_id <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_model_forecast</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span>, forecast_id <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">select_forecasts</span><span class="op">(</span></span>
<span>  main <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  forecasts_metadata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  forecasts_ids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  forecasts_groups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  models <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datasets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  species <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  historic_end_newmoonnumbers <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_forecasts_metadata</span><span class="op">(</span>main <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>main</dt>
<dd><p><code>character</code> value of the name of the main component of the directory tree.</p></dd>


<dt>model_fit, model_forecast</dt>
<dd><p>Output from a model's fit and forecast functions.</p></dd>


<dt>model, models</dt>
<dd><p><code>character</code> values of the name(s) of the model(s) of interest, as indexed within the directory in the <code>forecasts</code> sub folder. See the forecasts metadata file (<code>forecasts_metadata.csv</code>) for summary information. If <code>NULL</code> (the default), the most recently generated forecast's output is read in. <br><code>models</code> can be NULL, one value, or more than one values, <code>model</code> can only be NULL or one value.</p></dd>


<dt>dataset, datasets</dt>
<dd><p><code>character</code> vector of the rodent dataset name(s) to include.
<code>datasets</code> can be NULL, one value, or more than one values, <code>dataset</code> can only be NULL or one value.</p></dd>


<dt>species</dt>
<dd><p><code>character</code> value of the species codes (or <code>"total"</code> for the total across species) to include. Default value is <code>NULL</code>, which equates to no selection with respect to <code>species</code>.</p></dd>


<dt>forecast_id, forecasts_ids</dt>
<dd><p><code>integer</code> (or integer <code>numeric</code>) value(s) representing the forecast(s) of interest, as indexed within the directory in the <code>casts</code> sub folder. See the forecasts metadata file (<code>forecasts_metadata.csv</code>) for summary information. If <code>NULL</code> (the default), the most recently generated forecast's output is read in. <br><code>forecasts_ids</code> can be NULL, one value, or more than one values, <code>forecast_id</code> can only be NULL or one value.</p></dd>


<dt>forecast_table</dt>
<dd><p>A <code>data.frame</code> of a cast's output. See <code>read_forecast_table</code>.</p></dd>


<dt>forecasts_metadata</dt>
<dd><p><code>data.frame</code> of forecast metadata. If <code>NULL</code> (default), will try to read via <code>read_forecasts_metadata</code>.</p></dd>


<dt>forecasts_groups</dt>
<dd><p><code>integer</code> (or integer <code>numeric</code>) value of the forecast groups to include. Default value is <code>NULL</code>, which equates to no selection with respect to <code>forecast_group</code>.</p></dd>


<dt>historic_end_newmoonnumbers</dt>
<dd><p><code>integer</code> (or integer <code>numeric</code>) newmoon numbers of the forecast origin. Default value is <code>NULL</code>, which equates to no selection.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>process_model_output</code>: relevant elements are saved to external files, and returned as a <code>list</code>. <br></p>


<p><code>read_forecast_table</code>: forecast table <code>data.frame</code>. <br></p>


<p><code>read_forecast_tables</code>: <code>data.frame</code> of combined forecast tables. <br></p>


<p><code>add_observations_to_forecast_table</code>: forecast table <code>data.frame</code> with an observation column added. <br></p>


<p><code>read_forecast_metadata</code>: <code>list</code> of <code>forecast_metadata</code>. <br></p>


<p><code>read_model_fit</code>: forecast output (typically as a <code>list</code>). <br></p>


<p><code>read_model_forecast</code>: forecast output (typically as a <code>list</code>). <br></p>


<p><code>select_forecasts</code>:  <code>data.frame</code> of selected forecasts' metadata. <br></p>


<p><code>read_forecasts_metadata</code>: <code>data.frame</code> of forecasts' metadata.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Four model-specific output components are saved and returned:
* <code>forecast_metadata</code>: saved out with <code><a href="https://rdrr.io/pkg/yaml/man/write_yaml.html" class="external-link">write_yaml</a></code>.
* <code>forecast_tab</code>: saved using <code>write_csv_arrow</code>.
* <code>model_fit</code>: saved out as a serialized <code>JSON</code> file via <code><a href="https://rdrr.io/pkg/jsonlite/man/serializeJSON.html" class="external-link">serializeJSON</a></code> and <code><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">read_json</a></code>, so quite flexible with respect to specific object structure.
* <code>model_forecast</code>: saved out as a serialized <code>JSON</code> file via <code><a href="https://rdrr.io/pkg/jsonlite/man/serializeJSON.html" class="external-link">serializeJSON</a></code> and <code><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">read_json</a></code>, so quite flexible with respect to specific object structure.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Core forecasting functions:
<code><a href="ensemble.html">ensemble</a></code>,
<code><a href="evaluate-forecasts.html">evaluate forecasts</a></code>,
<code><a href="portalcast.html">portalcast</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>   <span class="va">main1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"forecast_output"</span><span class="op">)</span></span>
<span></span>
<span>   <span class="fu"><a href="directory-creation.html">setup_dir</a></span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span>   <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="st">"all"</span></span>
<span>   <span class="va">species</span> <span class="op">&lt;-</span> <span class="st">"DM"</span></span>
<span>   <span class="va">model</span>   <span class="op">&lt;-</span> <span class="st">"AutoArima"</span></span>
<span> </span>
<span>   <span class="va">abundance</span>      <span class="op">&lt;-</span> <span class="fu"><a href="prepare-rodents.html">prepare_abundance</a></span><span class="op">(</span>main    <span class="op">=</span> <span class="va">main1</span>,</span>
<span>                                       dataset <span class="op">=</span> <span class="va">dataset</span>,</span>
<span>                                       species <span class="op">=</span> <span class="va">species</span>,</span>
<span>                                       model   <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span>
<span>   <span class="va">model_controls</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare-models.html">models_controls</a></span><span class="op">(</span>main      <span class="op">=</span> <span class="va">main1</span>,</span>
<span>                                     models    <span class="op">=</span> <span class="va">model</span><span class="op">)</span><span class="op">[[</span><span class="va">model</span><span class="op">]</span><span class="op">]</span></span>
<span>   <span class="va">metadata</span>       <span class="op">&lt;-</span> <span class="fu"><a href="read-write-data.html">read_metadata</a></span><span class="op">(</span>main        <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span>   <span class="va">newmoons</span>       <span class="op">&lt;-</span> <span class="fu"><a href="read-write-data.html">read_newmoons</a></span><span class="op">(</span>main        <span class="op">=</span> <span class="va">main1</span><span class="op">)</span>                                        </span>
<span>   <span class="va">covariates</span>     <span class="op">&lt;-</span> <span class="fu"><a href="read-write-data.html">read_covariates</a></span><span class="op">(</span>main      <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span> </span>
<span>   <span class="va">fit_args</span>  <span class="op">&lt;-</span> <span class="fu"><a href="named_null_list.html">named_null_list</a></span><span class="op">(</span>element_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">model_controls</span><span class="op">$</span><span class="va">fit</span><span class="op">$</span><span class="va">args</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">fit_args</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">fit_args</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">parse</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">model_controls</span><span class="op">$</span><span class="va">fit</span><span class="op">$</span><span class="va">args</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="op">}</span></span>
<span>   <span class="va">model_fit</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span>what <span class="op">=</span> <span class="va">model_controls</span><span class="op">$</span><span class="va">fit</span><span class="op">$</span><span class="va">fun</span>,</span>
<span>                         args <span class="op">=</span> <span class="va">fit_args</span><span class="op">)</span></span>
<span> </span>
<span> </span>
<span>   <span class="va">forecast_args</span>  <span class="op">&lt;-</span> <span class="fu"><a href="named_null_list.html">named_null_list</a></span><span class="op">(</span>element_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">model_controls</span><span class="op">$</span><span class="va">forecast</span><span class="op">$</span><span class="va">args</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">forecast_args</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">forecast_args</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">parse</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">model_controls</span><span class="op">$</span><span class="va">forecast</span><span class="op">$</span><span class="va">args</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="op">}</span></span>
<span> </span>
<span>   <span class="va">model_forecast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span>what <span class="op">=</span> <span class="va">model_controls</span><span class="op">$</span><span class="va">forecast</span><span class="op">$</span><span class="va">fun</span>,</span>
<span>                             args <span class="op">=</span> <span class="va">forecast_args</span><span class="op">)</span></span>
<span> </span>
<span>   <span class="fu">process_model_output</span><span class="op">(</span>main           <span class="op">=</span> <span class="va">main1</span>,</span>
<span>                        model_fit      <span class="op">=</span> <span class="va">model_fit</span>,</span>
<span>                        model_forecast <span class="op">=</span> <span class="va">model_forecast</span>,</span>
<span>                        model          <span class="op">=</span> <span class="va">model</span>,</span>
<span>                        dataset        <span class="op">=</span> <span class="va">dataset</span>,</span>
<span>                        species        <span class="op">=</span> <span class="va">species</span><span class="op">)</span> </span>
<span></span>
<span>   <span class="va">cast_table</span>     <span class="op">&lt;-</span> <span class="fu">read_forecast_table</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span>   <span class="va">cast_table2</span>    <span class="op">&lt;-</span> <span class="fu">add_observations_to_forecast_table</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span>,</span>
<span>                                                        forecast_table <span class="op">=</span> <span class="va">cast_table</span><span class="op">)</span></span>
<span>   <span class="va">cast_tables</span>    <span class="op">&lt;-</span> <span class="fu">read_forecast_tables</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span>   <span class="va">cast_metadata</span>  <span class="op">&lt;-</span> <span class="fu">read_forecast_metadata</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span>   <span class="va">cast_forecast</span>  <span class="op">&lt;-</span> <span class="fu">read_model_forecast</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span></span>
<span>   <span class="va">casts_metadata</span> <span class="op">&lt;-</span> <span class="fu">read_forecasts_metadata</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span>   <span class="fu">select_forecasts</span><span class="op">(</span>main <span class="op">=</span> <span class="va">main1</span><span class="op">)</span></span>
<span></span>
<span>   <span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">main1</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.dapperstats.com/author/dr.-juniper-l.-simonis/" class="external-link">Juniper L. Simonis</a>, <a href="https://www.weecology.org/author/glenda-m.-yenni/" class="external-link">Glenda M. Yenni</a>, <a href="https://nature.arizona.edu/ellen-bledsoe" class="external-link">Ellen K. Bledsoe</a>, <a href="https://scholar.google.com/citations?user=_cBpCegAAAAJ&amp;hl=en" class="external-link">Erica M. Christensen</a>, <a href="https://www.weecology.org/author/henry-senyondo/" class="external-link">Henry Senyondo</a>, <a href="https://haoye.us/" class="external-link">Hao Ye</a>, Pat K. T. Dumandan, <a href="https://www.weecology.org/author/ethan-white/" class="external-link">Ethan P. White</a>, <a href="https://www.weecology.org/author/morgan-ernest/" class="external-link">S. K. Morgan Ernest</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

